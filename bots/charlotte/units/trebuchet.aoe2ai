//load "research/town_center/imperial_age.aoe2ai"
load "research/castle/prerequisites.aoe2ai"

#if unit-available trebuchet
  load "units/types/siege.aoe2ai"

  #if goal produce-units 1 and goal enough-wood 1 and goal enough-gold 1
    #if unit-type-count-total trebuchet-set < max-trebs
      #when
        train trebuchet
      #then
        goal trained-unit = 1
      #end when
    #else
      goal trained-unit = 1
    #end if
  #end if
#end if